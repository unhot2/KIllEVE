<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.yg.portfolio.repository.ProductRepository">

	<select id="productBest" resultType="Product">
		SELECT *
		  FROM product
		 LIMIT 9
	</select>
	
	<select id="productNew" resultType="Product">
		SELECT *
		  FROM product
		  order by productNo desc
		 LIMIT 8;
	</select>
	
	<select id="productOuter" resultType="Product">
		SELECT *
		  FROM product
		 WHERE category = 'outer'
		 LIMIT 8;
	</select>
	
	<select id="productTop" resultType="Product">
		SELECT *
		  FROM product
		 WHERE category = 'top'
		 LIMIT 8;
	</select>
	
	<select id="productPants" resultType="Product">
		SELECT *
		  FROM product
		 WHERE category = 'pants'
		 LIMIT 8;
	</select>
	
	<select id="productInfo" resultType="Product">
		SELECT *
		  FROM product
		 WHERE productNo = #{productNo}
	</select>
	
	<select id="productImg" resultType="ProductImg">
		SELECT productNo,fileName
		  FROM productImg
		 WHERE productNo = #{productNo}
	</select>
	
	<select id="productColor" resultType="ProductColor">
		SELECT productNo,colorName
		  FROM productColor
		 WHERE productNo = #{productNo}
	</select>
	
	<select id="productSize" resultType="ProductSize">
		SELECT productNo,sizeName
		  FROM productSize
		 WHERE productNo = #{productNo}
	</select>
	
	<!-- 판매량 많은순 -->
	<select id="rankProduct" resultType="ProductSize">
		<!-- 상품번호 그룹으로 묶고 수량을 더한값을 가지고 가장 많은 순으로 정렬 = 가장많이팔린 상품 -->
		SELECT productNo, sum(quantity) from orderdetail group by productNo order by sum(quantity) desc;
	</select>

</mapper>
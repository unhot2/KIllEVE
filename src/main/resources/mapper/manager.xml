<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yg.portfolio.repository.ManagerRepository">

	<insert id="writeNotice">
		INSERT INTO notice (
			   userId
			 , userName
			 , title
			 , content)
		VALUES (
			   #{userId}
			 , #{userName}
			 , #{title}
			 , #{content})
	</insert>
	
	<update id="updateNotice">
		UPDATE notice
		   SET title		= #{title}
		     , content		= #{content}
		     , updateUser	= #{userId}
		     , updateTime	= current_timestamp
		 WHERE boardNum 	= #{boardNum}
	</update>
	
	<delete id="deleteNotice">
		DELETE FROM notice
		 WHERE boardNum		= #{boardNum}
	</delete>
	
	<insert id="writeReplyQna">
		INSERT INTO qna (
			   groupNo
			 , groupStep
			 , userId
			 , userName
			 , title
			 , content
			 , password
			 , chkSecret
			 )
		VALUES (
			   #{groupNo}
			 , (SELECT groupStep
			 	  FROM qna as A
			 	 WHERE boardNum = #{groupNo}) +1
			 , #{userId}
			 , #{userName}
			 , #{title}
			 , #{content}
			 , #{password}
			 , "reply")
	</insert>
	
	
</mapper>